Adapted to my taste.

Intented to work with geiser.
